From 8f6d830742d2c5d41877ea601a91bccafe59f905 Mon Sep 17 00:00:00 2001
From: paolo <paolo@138bc75d-0d04-0410-961f-82ee72b054a4>
Date: Mon, 9 May 2011 23:24:21 +0000
Subject: [PATCH] 2011-05-09  Paolo Carlini  <paolo.carlini@oracle.com>

	PR c++/48522
	* g++.dg/cpp0x/pr48522.C: New.



git-svn-id: svn+ssh://gcc.gnu.org/svn/gcc/branches/gcc-4_6-branch@173599 138bc75d-0d04-0410-961f-82ee72b054a4

new file mode 100644
index 0000000..1543d8a
--- /dev/null
+++ b/gcc/testsuite/g++.dg/cpp0x/pr48522.C
@@ -0,0 +1,24 @@
+// { dg-options "-std=c++0x" }
+
+template <typename T>
+struct Handle
+{
+    Handle(T& t);
+};
+
+template<class T>
+struct Class {
+    struct Struct {} data;
+    void f();
+    void g();
+};
+
+template<class T>
+void Class<T>::f() {
+    Handle< decltype((data)) > handle(data);
+}
+
+template<class T>
+void Class<T>::g() {
+    Handle< decltype((data)) > handle(data);
+}
-- 
1.7.0.4

