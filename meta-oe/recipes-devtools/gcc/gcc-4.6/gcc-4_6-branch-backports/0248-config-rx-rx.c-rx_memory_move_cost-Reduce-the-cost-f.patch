From 072020dc11d2dc8871ea399055d1a5490b736550 Mon Sep 17 00:00:00 2001
From: nickc <nickc@138bc75d-0d04-0410-961f-82ee72b054a4>
Date: Tue, 10 May 2011 11:24:14 +0000
Subject: [PATCH] 	* config/rx/rx.c (rx_memory_move_cost): Reduce the cost for
 	stores.

git-svn-id: svn+ssh://gcc.gnu.org/svn/gcc/branches/gcc-4_6-branch@173616 138bc75d-0d04-0410-961f-82ee72b054a4

index f56e779..6fd1153 100644
--- a/gcc/config/rx/rx.c
+++ b/gcc/config/rx/rx.c
@@ -2595,7 +2595,7 @@ rx_trampoline_init (rtx tramp, tree fndecl, rtx chain)
 static int
 rx_memory_move_cost (enum machine_mode mode, reg_class_t regclass, bool in)
 {
-  return 2 + memory_move_secondary_cost (mode, regclass, in);
+  return (in ? 2:0) + memory_move_secondary_cost (mode, regclass, in);
 }
 
 /* Convert a CC_MODE to the set of flags that it represents.  */
-- 
1.7.0.4

